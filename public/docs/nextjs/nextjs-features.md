# Next.js の独自機能と便利ツール

## Image コンポーネント

画像を自動で軽量化・最適化する専用タグ。大文字始まり。直接インポート（代表者）。

### レイアウトシフト（CLS）の防止

画像が読み込まれる前に「予約席（幅と高さ）」を確保する。

これにより、画像読み込み後にコンテンツがガタッと動くのを防ぎ、ユーザー体験（および SEO スコア）を向上させる。

### fill と親要素の関係

`fill` を使う場合、親要素には `relative`, `fixed`, `sticky` のいずれかが必要。

親要素を基準枠にすることで、Next.js がそのサイズに合わせた最適な解像度の画像を自動生成・配信する。

### 内部処理

デバイスに合わせて WebP や AVIF 形式への変換、リサイズを自動で行い、通信量を削減する。

## Link コンポーネント

ページ移動を爆速にする（プリフェッチ機能付き）専用タグ。大文字始まり。直接インポート（代表者）。

### 差分レンダリング

ページ移動時、ブラウザ全体をリロードせず、変更が必要な「中身」だけを入れ替える（SPA の挙動）。

### Prefetch（プリフェッチ）

リンクが画面内に入った瞬間、Next.js が裏側で次のページのデータを先読みし始める。

クリックした瞬間にデータが準備されているため、体感速度がアプリのように爆速になる。

### SEO への貢献

爆速なページ遷移は離脱率を下げ、検索エンジンからも「質の高いサイト」と評価されやすくなる。

## usePathname フック (関数)

Next.js のルーティング機能。現在の URL（パス名）を監視するセンサー。小文字始まり、`{}` で指名。

**注意**: `usePathname` は Next.js の機能ですが、`useState` や `useEffect` などの React Hooks と同様に、小文字始まりで `{}` でインポートします。React Hooks の基本的な使い方については、[React Hooks（フック）](../react/hooks.md) を参照してください。

## @/lib/... (パスエイリアス)

プロジェクトのルートディレクトリを `@` で表現し、深い階層からでもファイルを簡単に呼び出せる Next.js（および設定）の仕組み。

